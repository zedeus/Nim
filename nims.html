<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>NimScript</title>
<style type="text/css" >
/*
Stylesheet for use with Docutils/rst2html.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.

Modified from Chad Skeeters' rst2html-style
https://bitbucket.org/cskeeters/rst2html-style/

Modified by Boyd Greenfield and narimiran
*/

html {
  font-size: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%; }

body {
  font-family: "Lato", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif;
  font-weight: 400;
  font-size: 1.125em;
  line-height: 1.5;
  color: #222;
  background-color: #FCFCFC; }

/* Skeleton grid */
.container {
  position: relative;
  width: 100%;
  max-width: 1050px;
  margin: 0 auto;
  padding: 0;
  box-sizing: border-box; }

.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box;
  margin-left: 1%;
}

.column:first-child,
.columns:first-child {
  margin-left: 0; }

.three.columns {
  width: 19%; }

.nine.columns {
  width: 80.0%; }

.twelve.columns {
  width: 100%;
  margin-left: 0; }

@media screen and (max-width: 860px) {
  .three.columns {
    display: none;
  }
  .nine.columns {
    width: 98.0%;
  }
  body {
    font-size: 1em;
    line-height: 1.35;
  }
}

cite {
  font-style: italic !important; }


/* Nim search input */
div#searchInputDiv {
  margin-bottom: 1em;
}
input#searchInput {
  width: 80%;
}

/*
 * Some custom formatting for input forms.
 * This also fixes input form colors on Firefox with a dark system theme on Linux.
 */
input {
  -moz-appearance: none;
  color: #333;
  background-color: #f8f8f8;
  border: 1px solid #aaa;
  font-family: "Lato", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif;
  font-size: 0.9em;
  padding: 6px;
}
input:focus {
  border: 1px solid #1fa0eb;
  box-shadow: 0 0 2px #1fa0eb;
}

/* Docgen styles */
/* Links */
a {
  color: #07b;
  text-decoration: none;
}

a span.Identifier {
  text-decoration: underline;
  text-decoration-color: #aab;
}

a.reference-toplevel {
  font-weight: bold;
}

a.toc-backref {
  text-decoration: none;
  color: #222; }

a.link-seesrc {
  color: #607c9f;
  font-size: 0.9em;
  font-style: italic; }

a:hover,
a:focus {
  color: #607c9f;
  text-decoration: underline; }

a:hover span.Identifier {
  color: #607c9f;
}


sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline; }

sup {
  top: -0.5em; }

sub {
  bottom: -0.25em; }

img {
  width: auto;
  height: auto;
  max-width: 100%;
  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic; }

@media print {
  * {
    color: black !important;
    text-shadow: none !important;
    background: transparent !important;
    box-shadow: none !important; }

  a,
  a:visited {
    text-decoration: underline; }

  a[href]:after {
    content: " (" attr(href) ")"; }

  abbr[title]:after {
    content: " (" attr(title) ")"; }

  .ir a:after,
  a[href^="javascript:"]:after,
  a[href^="#"]:after {
    content: ""; }

  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid; }

  thead {
    display: table-header-group; }

  tr,
  img {
    page-break-inside: avoid; }

  img {
    max-width: 100% !important; }

  @page {
    margin: 0.5cm; }

  h1 {
    page-break-before: always; }

  h1.title {
    page-break-before: avoid; }

  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3; }

  h2,
  h3 {
    page-break-after: avoid; }
}


p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

small {
  font-size: 85%; }

strong {
  font-weight: 600;
  font-size: 0.95em;
  color: #3c3c3c;
}

em {
  font-style: italic; }

h1 {
  font-size: 1.8em;
  font-weight: 400;
  padding-bottom: .25em;
  border-bottom: 1px solid #aaa;
  margin-top: 2.5em;
  margin-bottom: 1em;
  line-height: 1.2em; }

h1.title {
  padding-bottom: 1em;
  border-bottom: 0px;
  font-size: 2.5em;
  text-align: center;
  font-weight: 900;
  margin-top: 0.75em;
  margin-bottom: 0em;
}

h2 {
  font-size: 1.3em;
  margin-top: 2em; }

h2.subtitle {
  text-align: center; }

h3 {
  font-size: 1.125em;
  font-style: italic;
  margin-top: 1.5em; }

h4 {
  font-size: 1.125em;
  margin-top: 1em; }

h5 {
  font-size: 1.125em;
  margin-top: 0.75em; }

h6 {
  font-size: 1.1em; }


ul,
ol {
  padding: 0;
  margin-top: 0.5em;
  margin-left: 0.75em; }

ul ul,
ul ol,
ol ol,
ol ul {
  margin-bottom: 0;
  margin-left: 1.25em; }

li {
    list-style-type: circle;
}

ul.simple-boot li {
    list-style-type: none;
    margin-left: 0em;
    margin-bottom: 0.5em;
}

ol.simple > li, ul.simple > li {
  margin-bottom: 0.25em;
  margin-left: 0.4em }

ul.simple.simple-toc > li {
    margin-top: 1em;
}

ul.simple-toc {
  list-style: none;
  font-size: 0.9em;
  margin-left: -0.3em;
  margin-top: 1em; }

ul.simple-toc > li {
    list-style-type: none;
}

ul.simple-toc-section {
  list-style-type: circle;
  margin-left: 1em;
  color: #6c9aae; }


ol.arabic {
  list-style: decimal; }

ol.loweralpha {
  list-style: lower-alpha; }

ol.upperalpha {
  list-style: upper-alpha; }

ol.lowerroman {
  list-style: lower-roman; }

ol.upperroman {
  list-style: upper-roman; }

ul.auto-toc {
  list-style-type: none; }


dl {
  margin-bottom: 1.5em; }

dt {
  margin-bottom: -0.5em;
  margin-left: 0.0em; }

dd {
  margin-left: 2.0em;
  margin-bottom: 3.0em;
  margin-top: 0.5em; }


hr {
  margin: 2em 0;
  border: 0;
  border-top: 1px solid #aaa; }

blockquote {
  font-size: 0.9em;
  font-style: italic;
  padding-left: 0.5em;
  margin-left: 0;
  border-left: 5px solid #bbc;
}

.pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  font-weight: 500;
  font-size: 0.85em;
  background-color: #f0f3ff;
  padding-left: 3px;
  padding-right: 3px;
  border-radius: 4px;
}

pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  color: #222;
  font-weight: 500;
  display: inline-block;
  box-sizing: border-box;
  min-width: 100%;
  padding: 0.5em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  font-size: 0.85em;
  white-space: pre !important;
  overflow-y: hidden;
  overflow-x: visible;
  background-color: ghostwhite;
  border: 1px solid #dde;
  -webkit-border-radius: 6px;
  -moz-border-radius: 6px;
  border-radius: 6px; }

.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll; }


/* Nim line-numbered tables */
.line-nums-table {
  width: 100%;
  table-layout: fixed; }

table.line-nums-table {
  border-radius: 4px;
  border: 1px solid #cccccc;
  background-color: ghostwhite;
  border-collapse: separate;
  margin-top: 15px;
  margin-bottom: 25px; }

.line-nums-table tbody {
  border: none; }

.line-nums-table td pre {
  border: none;
  background-color: transparent; }

.line-nums-table td.blob-line-nums {
  width: 28px; }

.line-nums-table td.blob-line-nums pre {
  color: #b0b0b0;
  -webkit-filter: opacity(75%);
  text-align: right;
  border-color: transparent;
  background-color: transparent;
  padding-left: 0px;
  margin-left: 0px;
  padding-right: 0px;
  margin-right: 0px; }


table {
  max-width: 100%;
  background-color: transparent;
  margin-top: 0.5em;
  margin-bottom: 1.5em;
  border-collapse: collapse;
  border-color: #ccc;
  border-spacing: 0;
  font-size: 0.9em;
}

table th, table td {
  padding: 0px 0.5em 0px;
}

table th {
  background-color: #e8e8e8;
  font-weight: bold; }

table th.docinfo-name {
    background-color: transparent;
}

table tr:hover {
  background-color: ghostwhite; }


/* rst2html default used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0; }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 !important; }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 !important; }

.last, .with-subtitle {
  margin-bottom: 0 !important; }

.hidden {
  display: none; }

blockquote.epigraph {
  margin: 2em 5em; }

dl.docutils dd {
  margin-bottom: 0.5em; }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden; }


div.figure {
  margin-left: 2em;
  margin-right: 2em; }

div.footer, div.header {
  clear: both;
  text-align: center;
  color: #666;
  font-size: smaller; }

div.footer {
    padding-top: 5em;
}

div.line-block {
  display: block;
  margin-top: 1em;
  margin-bottom: 1em; }

div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 1.5em; }

div.topic {
  margin: 2em; }

div.search_results {
  background-color: antiquewhite;
  margin: 3em;
  padding: 1em;
  border: 1px solid #4d4d4d;
}

div#global-links ul {
  margin-left: 0;
  list-style-type: none;
}

div#global-links > simple-boot {
    margin-left: 3em;
}

hr.docutils {
  width: 75%; }

img.align-left, .figure.align-left, object.align-left {
  clear: left;
  float: left;
  margin-right: 1em; }

img.align-right, .figure.align-right, object.align-right {
  clear: right;
  float: right;
  margin-left: 1em; }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto; }

.align-left {
  text-align: left; }

.align-center {
  clear: both;
  text-align: center; }

.align-right {
  text-align: right; }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit; }

p.attribution {
  text-align: right;
  margin-left: 50%; }

p.caption {
  font-style: italic; }

p.credits {
  font-style: italic;
  font-size: smaller; }

p.label {
  white-space: nowrap; }

p.rubric {
  font-weight: bold;
  font-size: larger;
  color: maroon;
  text-align: center; }

p.topic-title {
  font-weight: bold; }

pre.address {
  margin-bottom: 0;
  margin-top: 0;
  font: inherit; }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em;
  margin-right: 2em; }

pre.code .ln {
  color: grey; }

/* line numbers */
pre.code, code {
  background-color: #eeeeee; }

pre.code .comment, code .comment {
  color: #5c6576; }

pre.code .keyword, code .keyword {
  color: #3B0D06;
  font-weight: bold; }

pre.code .literal.string, code .literal.string {
  color: #0c5404; }

pre.code .name.builtin, code .name.builtin {
  color: #352b84; }

pre.code .deleted, code .deleted {
  background-color: #DEB0A1; }

pre.code .inserted, code .inserted {
  background-color: #A3D289; }

span.classifier {
  font-style: oblique; }

span.classifier-delimiter {
  font-weight: bold; }

span.option {
  white-space: nowrap; }

span.problematic {
  color: #b30000; }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80%; }

span.DecNumber {
  color: #252dbe; }

span.BinNumber {
  color: #252dbe; }

span.HexNumber {
  color: #252dbe; }

span.OctNumber {
  color: #252dbe; }

span.FloatNumber {
  color: #252dbe; }

span.Identifier {
  color: #222; }

span.Keyword {
  font-weight: 600;
  color: #5e8f60; }

span.StringLit {
  color: #a4255b; }

span.LongStringLit {
  color: #a4255b; }

span.CharLit {
  color: #a4255b; }

span.EscapeSequence {
  color: black; }

span.Operator {
  color: black; }

span.Punctuation {
  color: black; }

span.Comment, span.LongComment {
  font-style: italic;
  font-weight: 400;
  color: #484a86; }

span.RegularExpression {
  color: darkviolet; }

span.TagStart {
  color: darkviolet; }

span.TagEnd {
  color: darkviolet; }

span.Key {
  color: #252dbe; }

span.Value {
  color: #252dbe; }

span.RawData {
  color: #a4255b; }

span.Assembler {
  color: #252dbe; }

span.Preprocessor {
  color: #252dbe; }

span.Directive {
  color: #252dbe; }

span.Command, span.Rule, span.Hyperlink, span.Label, span.Reference,
span.Other {
  color: black; }

/* Pop type, const, proc, and iterator defs in nim def blocks */
dt pre > span.Identifier, dt pre > span.Operator {
  color: #155da4;
  font-weight: 700; }

dt pre > span.Keyword ~ span.Identifier, dt pre > span.Identifier ~ span.Identifier,
dt pre > span.Operator ~ span.Identifier, dt pre > span.Other ~ span.Identifier {
  color: inherit;
  font-weight: inherit; }

/* Nim sprite for the footer (taken from main page favicon) */
.nim-sprite {
  display: inline-block;
  height: 16px;
  width: 16px;
  background-position: 0 0;
  background-size: 16px 16px;
  -webkit-filter: opacity(50%);
  background-repeat: no-repeat;
  background-image: url("data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA==");
  margin-bottom: -5px; }

span.pragmadots {
  /* Position: relative frees us up to make the dots
  look really nice without fucking up the layout and
  causing bulging in the parent container */
  position: relative;
  /* 1px down looks slightly nicer */
  top: 1px;
  padding: 2px;
  background-color: #e8e8e8;
  border-radius: 4px;
  margin: 0 2px;
  cursor: pointer;
  font-size: 0.8em;
}

span.pragmadots:hover {
  background-color: #DBDBDB;
}
span.pragmawrap {
  display: none;
}

span.attachedType {
  display: none;
  visibility: hidden;
}
</style>

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">NimScript</h1>
    <p>Strictly speaking, <tt class="docutils literal"><span class="pre">NimScript</span></tt> is the subset of Nim that can be evaluated by Nim's builtin virtual machine (VM). This VM is used for Nim's compiletime function evaluation features.</p>
<p>The <tt class="docutils literal"><span class="pre">nim</span></tt> executable processes the <tt class="docutils literal"><span class="pre">.nims</span></tt> configuration files in the following directories (in this order; later files overwrite previous settings):</p>
<ol class="simple"><li>If environment variable <tt class="docutils literal"><span class="pre">XDG_CONFIG_HOME</span></tt> is defined, <tt class="docutils literal"><span class="pre">$XDG_CONFIG_HOME/nim/config.nims</span></tt> or <tt class="docutils literal"><span class="pre">~/.config/nim/config.nims</span></tt> (POSIX) or <tt class="docutils literal"><span class="pre">%APPDATA%/nim/config.nims</span></tt> (Windows). This file can be skipped with the <tt class="docutils literal"><span class="pre">--skipUserCfg</span></tt> command line option.</li>
<li><tt class="docutils literal"><span class="pre">$parentDir/config.nims</span></tt> where <tt class="docutils literal"><span class="pre">$parentDir</span></tt> stands for any parent directory of the project file's path. These files can be skipped with the <tt class="docutils literal"><span class="pre">--skipParentCfg</span></tt> command line option.</li>
<li><tt class="docutils literal"><span class="pre">$projectDir/config.nims</span></tt> where <tt class="docutils literal"><span class="pre">$projectDir</span></tt> stands for the project's path. This file can be skipped with the <tt class="docutils literal"><span class="pre">--skipProjCfg</span></tt> command line option.</li>
<li>A project can also have a project specific configuration file named <tt class="docutils literal"><span class="pre">$project.nims</span></tt> that resides in the same directory as <tt class="docutils literal"><span class="pre">$project.nim</span></tt>. This file can be skipped with the same <tt class="docutils literal"><span class="pre">--skipProjCfg</span></tt> command line option.</li>
</ol>
<p>For available procs and implementation details see <a class="reference external" href="nimscript.html">nimscript</a>.</p>

<h1 id="limitations">Limitations</h1><p>NimScript is subject to some limitations caused by the implementation of the VM (virtual machine):</p>
<ul class="simple"><li>Nim's FFI (foreign function interface) is not available in NimScript. This means that any stdlib module which relies on <tt class="docutils literal"><span class="pre">importc</span></tt> can not be used in the VM.</li>
<li><tt class="docutils literal"><span class="pre">ptr</span></tt> operations are are hard to emulate with the symbolic representation the VM uses. They are available and tested extensively but there are bugs left.</li>
<li><tt class="docutils literal"><span class="pre">var T</span></tt> function arguments rely on <tt class="docutils literal"><span class="pre">ptr</span></tt> operations internally and might also be problematic in some cases.</li>
<li>More than one level of <tt class="docutils literal"><span class="pre">ref</span></tt> is generally not supported (for example, the type <tt class="docutils literal"><span class="pre">ref ref int</span></tt>).</li>
<li>Multimethods are not available.</li>
<li><tt class="docutils literal"><span class="pre">random.randomize()</span></tt> requires an <tt class="docutils literal"><span class="pre">int64</span></tt> explicitly passed as argument, you <em>must</em> pass a Seed integer.</li>
<li><tt class="docutils literal"><span class="pre">unicode</span></tt> can be imported, but not <tt class="docutils literal"><span class="pre">unidecode</span></tt>.</li>
</ul>

<h1 id="standard-library-modules">Standard library modules</h1><p>At least the following standard library modules are available:</p>
<ul class="simple"><li><a class="reference external" href="macros.html">macros</a></li>
<li><a class="reference external" href="os.html">os</a></li>
<li><a class="reference external" href="strutils.html">strutils</a></li>
<li><a class="reference external" href="math.html">math</a></li>
<li><a class="reference external" href="distros.html">distros</a></li>
<li><a class="reference external" href="sugar.html">sugar</a></li>
<li><a class="reference external" href="algorithm.html">algorithm</a></li>
<li><a class="reference external" href="base64.html">base64</a></li>
<li><a class="reference external" href="bitops.html">bitops</a></li>
<li><a class="reference external" href="chains.html">chains</a></li>
<li><a class="reference external" href="colors.html">colors</a></li>
<li><a class="reference external" href="complex.html">complex</a></li>
<li><a class="reference external" href="htmlgen.html">htmlgen</a></li>
<li><a class="reference external" href="httpcore.html">httpcore</a></li>
<li><a class="reference external" href="lenientops.html">lenientops</a></li>
<li><a class="reference external" href="mersenne.html">mersenne</a></li>
<li><a class="reference external" href="options.html">options</a></li>
<li><a class="reference external" href="parseutils.html">parseutils</a></li>
<li><a class="reference external" href="punycode.html">punycode</a></li>
<li><a class="reference external" href="punycode.html">random</a></li>
<li><a class="reference external" href="stats.html">stats</a></li>
<li><a class="reference external" href="strformat.html">strformat</a></li>
<li><a class="reference external" href="strmisc.html">strmisc</a></li>
<li><a class="reference external" href="strscans.html">strscans</a></li>
<li><a class="reference external" href="unicode.html">unicode</a></li>
<li><a class="reference external" href="uri.html">uri</a></li>
<li><a class="reference external" href="editdistance.html">std/editdistance</a></li>
<li><a class="reference external" href="wordwrap.html">std/wordwrap</a></li>
<li><a class="reference external" href="sums.html">std/sums</a></li>
</ul>
<p>In addition to the standard Nim syntax (<a class="reference external" href="system.html">system</a> module), NimScripts support the procs and templates defined in the <a class="reference external" href="nimscript.html">nimscript</a> module too.</p>

<h1 id="nimscript-as-a-configuration-file">NimScript as a configuration file</h1><p>A command-line switch <tt class="docutils literal"><span class="pre">--FOO</span></tt> is written as <tt class="docutils literal"><span class="pre">switch(&quot;FOO&quot;)</span></tt> in NimScript. Similarly, command-line <tt class="docutils literal"><span class="pre">--FOO:VAL</span></tt> translates to <tt class="docutils literal"><span class="pre">switch(&quot;FOO&quot;, &quot;VAL&quot;)</span></tt>.</p>
<p>Here are few examples of using the <tt class="docutils literal"><span class="pre">switch</span></tt> proc:</p>
<pre class="listing"><span class="Comment"># command-line: --opt:size</span>
<span class="Identifier">switch</span><span class="Punctuation">(</span><span class="StringLit">&quot;opt&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;size&quot;</span><span class="Punctuation">)</span>
<span class="Comment"># command-line: --define:foo or -d:foo</span>
<span class="Identifier">switch</span><span class="Punctuation">(</span><span class="StringLit">&quot;define&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;foo&quot;</span><span class="Punctuation">)</span>
<span class="Comment"># command-line: --forceBuild</span>
<span class="Identifier">switch</span><span class="Punctuation">(</span><span class="StringLit">&quot;forceBuild&quot;</span><span class="Punctuation">)</span></pre><p>NimScripts also support <tt class="docutils literal"><span class="pre">--</span></tt> templates for convenience, which look like command-line switches written as-is in the NimScript file. So the above example can be rewritten as:</p>
<pre class="listing"><span class="Operator">--</span><span class="Identifier">opt</span><span class="Punctuation">:</span><span class="Identifier">size</span>
<span class="Operator">--</span><span class="Identifier">define</span><span class="Punctuation">:</span><span class="Identifier">foo</span>
<span class="Operator">--</span><span class="Identifier">forceBuild</span></pre><p><strong>Note</strong>: In general, the <em>define</em> switches can also be set in NimScripts using <tt class="docutils literal"><span class="pre">switch</span></tt> or <tt class="docutils literal"><span class="pre">--</span></tt>, as shown in above examples. Only the <tt class="docutils literal"><span class="pre">release</span></tt> define (<tt class="docutils literal"><span class="pre">-d:release</span></tt>) cannot be set in NimScripts.</p>

<h1 id="nimscript-as-a-build-tool">NimScript as a build tool</h1><p>The <tt class="docutils literal"><span class="pre">task</span></tt> template that the <tt class="docutils literal"><span class="pre">system</span></tt> module defines allows a NimScript file to be used as a build tool. The following example defines a task <tt class="docutils literal"><span class="pre">build</span></tt> that is an alias for the <tt class="docutils literal"><span class="pre">c</span></tt> command:</p>
<pre class="listing"><span class="Identifier">task</span> <span class="Identifier">build</span><span class="Punctuation">,</span> <span class="StringLit">&quot;builds an example&quot;</span><span class="Punctuation">:</span>
  <span class="Identifier">setCommand</span> <span class="StringLit">&quot;c&quot;</span></pre><p>In fact, as a convention the following tasks should be available:</p>
<table border="1" class="docutils"><tr><th>Task</th><th>Description</th></tr>
<tr><td><tt class="docutils literal"><span class="pre">help</span></tt></td><td>List all the available NimScript tasks along with their docstrings.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">build</span></tt></td><td>Build the project with the required backend (<tt class="docutils literal"><span class="pre">c</span></tt>, <tt class="docutils literal"><span class="pre">cpp</span></tt> or <tt class="docutils literal"><span class="pre">js</span></tt>).</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">tests</span></tt></td><td>Runs the tests belonging to the project.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">bench</span></tt></td><td>Runs benchmarks belonging to the project.</td></tr>
</table><p>Look at the module <a class="reference external" href="distros.html">distros</a> for some support of the OS's native package managers.</p>

<h1 id="nimble-integration">Nimble integration</h1><p>See the <a class="reference external" href="https://github.com/nim-lang/nimble#readme">Nimble readme</a> for more information.</p>

<h1 id="standalone-nimscript">Standalone NimScript</h1><p>NimScript can also be used directly as a portable replacement for Bash and Batch files. Use <tt class="docutils literal"><span class="pre">nim myscript.nims</span></tt> to run <tt class="docutils literal"><span class="pre">myscript.nims</span></tt>. For example, installation of Nimble could be accomplished with this simple script:</p>
<pre class="listing"><span class="Identifier">mode</span> <span class="Operator">=</span> <span class="Identifier">ScriptMode</span><span class="Operator">.</span><span class="Identifier">Verbose</span>

<span class="Keyword">var</span> <span class="Identifier">id</span> <span class="Operator">=</span> <span class="DecNumber">0</span>
<span class="Keyword">while</span> <span class="Identifier">dirExists</span><span class="Punctuation">(</span><span class="StringLit">&quot;nimble&quot;</span> <span class="Operator">&amp;</span> <span class="Operator">$</span><span class="Identifier">id</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">inc</span> <span class="Identifier">id</span>

<span class="Identifier">exec</span> <span class="StringLit">&quot;git clone https://github.com/nim-lang/nimble.git nimble&quot;</span> <span class="Operator">&amp;</span> <span class="Operator">$</span><span class="Identifier">id</span>

<span class="Identifier">withDir</span> <span class="StringLit">&quot;nimble&quot;</span> <span class="Operator">&amp;</span> <span class="Operator">$</span><span class="Identifier">id</span> <span class="Operator">&amp;</span> <span class="StringLit">&quot;/src&quot;</span><span class="Punctuation">:</span>
  <span class="Identifier">exec</span> <span class="StringLit">&quot;nim c nimble&quot;</span>

<span class="Identifier">mvFile</span> <span class="StringLit">&quot;nimble&quot;</span> <span class="Operator">&amp;</span> <span class="Operator">$</span><span class="Identifier">id</span> <span class="Operator">&amp;</span> <span class="StringLit">&quot;/src/nimble&quot;</span><span class="Operator">.</span><span class="Identifier">toExe</span><span class="Punctuation">,</span> <span class="StringLit">&quot;bin/nimble&quot;</span><span class="Operator">.</span><span class="Identifier">toExe</span></pre><p>On Unix, you can also use the shebang <tt class="docutils literal"><span class="pre">#!/usr/bin/env nim</span></tt>, as long as your filename ends with <tt class="docutils literal"><span class="pre">.nims</span></tt>:</p>
<pre class="listing"><span class="Comment">#!/usr/bin/env nim</span>
<span class="Identifier">mode</span> <span class="Operator">=</span> <span class="Identifier">ScriptMode</span><span class="Operator">.</span><span class="Identifier">Silent</span>

<span class="Identifier">echo</span> <span class="StringLit">&quot;hello world&quot;</span></pre><p>Use <tt class="docutils literal"><span class="pre">#!/usr/bin/env -S nim --hints:off</span></tt> to disable hints.</p>

<h1 id="benefits">Benefits</h1>
<h2 id="crossminusplatform">Cross-Platform</h2><p>It is a cross-platform scripting language that can run where Nim can run, e.g. you can not run Batch or PowerShell on Linux or Mac, the Bash for Linux might not run on Mac, there are no unit tests tools for Batch, etc.</p>
<p>NimScript can detect on which platform, operating system, architecture, and even which Linux distribution is running on, allowing the same script to support a lot of systems.</p>
<p>See the following (incomplete) example:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">distros</span>

<span class="Comment"># Architectures.</span>
<span class="Keyword">if</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">amd64</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Architecture is x86 64Bits&quot;</span>
<span class="Keyword">elif</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">i386</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Architecture is x86 32Bits&quot;</span>
<span class="Keyword">elif</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">arm</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Architecture is ARM&quot;</span>

<span class="Comment"># Operating Systems.</span>
<span class="Keyword">if</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">linux</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Operating System is GNU Linux&quot;</span>
<span class="Keyword">elif</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">windows</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Operating System is Microsoft Windows&quot;</span>
<span class="Keyword">elif</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">macosx</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Operating System is Apple OS X&quot;</span>

<span class="Comment"># Distros.</span>
<span class="Keyword">if</span> <span class="Identifier">detectOs</span><span class="Punctuation">(</span><span class="Identifier">Ubuntu</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Distro is Ubuntu&quot;</span>
<span class="Keyword">elif</span> <span class="Identifier">detectOs</span><span class="Punctuation">(</span><span class="Identifier">ArchLinux</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Distro is ArchLinux&quot;</span>
<span class="Keyword">elif</span> <span class="Identifier">detectOs</span><span class="Punctuation">(</span><span class="Identifier">Debian</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Distro is Debian&quot;</span></pre>
<h2 id="uniform-syntax">Uniform Syntax</h2><p>The syntax, style, and rest of the ecosystem is the same as for compiled Nim, that means there is nothing new to learn, no context switch for developers.</p>

<h2 id="powerful-metaprogramming">Powerful Metaprogramming</h2><p>NimScript can use Nim's templates, macros, types, concepts, effect tracking system, and more, you can create modules that work on compiled Nim and also on interpreted NimScript.</p>
<p><tt class="docutils literal"><span class="pre">func</span></tt> will still check for side effects, <tt class="docutils literal"><span class="pre">debugEcho</span></tt> also works as expected, making it ideal for functional scripting metaprogramming.</p>
<p>This is an example of a third party module that uses macros and templates to translate text strings on unmodified NimScript:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">nimterlingua</span>
<span class="Identifier">nimterlingua</span><span class="Punctuation">(</span><span class="StringLit">&quot;translations.cfg&quot;</span><span class="Punctuation">)</span>
<span class="Identifier">echo</span> <span class="StringLit">&quot;cat&quot;</span>  <span class="Comment"># Run with -d:RU becomes &quot;kot&quot;, -d:ES becomes &quot;gato&quot;, ...</span></pre><p>translations.cfg</p>
<pre class="listing">
[cat]
ES = gato
PT = minino
RU = kot
FR = chat</pre><ul class="simple"><li><a class="reference external" href="https://nimble.directory/pkg/nimterlingua">Nimterlingua</a></li>
</ul>

<h2 id="graceful-fallback">Graceful Fallback</h2><p>Some features of compiled Nim may not work on NimScript, but often a graceful and seamless fallback degradation is used.</p>
<p>See the following NimScript:</p>
<pre class="listing"><span class="Keyword">if</span> <span class="Identifier">likely</span><span class="Punctuation">(</span><span class="Identifier">true</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Keyword">discard</span>
<span class="Keyword">elif</span> <span class="Identifier">unlikely</span><span class="Punctuation">(</span><span class="Identifier">false</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Keyword">discard</span>

<span class="Keyword">proc</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">compiletime</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span> <span class="Identifier">echo</span> <span class="Identifier">NimVersion</span>

<span class="Keyword">static</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="Identifier">CompileDate</span></pre><p><tt class="docutils literal"><span class="pre">likely()</span></tt>, <tt class="docutils literal"><span class="pre">unlikely()</span></tt>, <tt class="docutils literal"><span class="pre">static:</span></tt> and <tt class="docutils literal"><span class="pre">{.compiletime.}</span></tt> will produce no code at all when run on NimScript, but still no error nor warning is produced and the code just works.</p>

<h2 id="evolving-scripting-language">Evolving Scripting language</h2><p>NimScript evolves together with Nim, <a class="reference external" href="https://github.com/nim-lang/Nim/pulls?utf8=%E2%9C%93&amp;q=nimscript">occasionally new features might become available on NimScript</a> , adapted from compiled Nim or added as new features on both.</p>

<h2 id="scripting-language-with-a-package-manager">Scripting Language with a Package Manager</h2><p>You can create your own modules to be compatible with NimScript, and check <a class="reference external" href="https://nimble.directory">Nimble</a> to search for third party modules that may work on NimScript.</p>

<h2 id="devops-scripting">DevOps Scripting</h2><p>You can use NimScript to deploy to production, run tests, build projects, do benchmarks, generate documentation, and all kinds of DevOps/SysAdmin specific tasks.</p>
<ul class="simple"><li><a class="reference external" href="https://github.com/kaushalmodi/nim_config#list-available-tasks">An example of a third party NimScript that can be used as a project-agnostic tool.</a></li>
</ul>



    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small>Made with Nim. Generated: 2019-09-23 11:40:41 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
